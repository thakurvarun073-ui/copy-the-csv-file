name: Run PowerShell Script with Logs

on:
  workflow_dispatch:

jobs:
  run-script:
    runs-on: windows-latest

    steps:
      # Checkout the repository
      - name: Checkout Repository
        uses: actions/checkout@v3

      # Run the PowerShell script
      - name: Execute PowerShell Script
        run: |
          powershell.exe -ExecutionPolicy Bypass -File scripts/copy_csv_files_skip_nhp.ps1

      # Upload log files or any output
      - name: Upload Log File
        uses: actions/upload-artifact@v3
        with:
          name: script-logs
          path: |
            # Change if your script generates logs somewhere else
            scripts/*.log
